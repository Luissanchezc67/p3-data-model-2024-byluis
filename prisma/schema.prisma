// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}


model Pacient {
  id String @id @default(uuid()) //el id de la tabla paciente
  pacient String
  address String
  phonenum String
  DNIPass String
  edad String
  gender String
  record String

  clinichist ClinicHistory[]
}

model ClinicHistory{
  id String @id @default(uuid()) //el id de la tabla historiaclinica
  date DateTime

  pacientId String
  pacient Pacient @relation(fields: [pacientId], references: [id])

  doctorId String
  doctor Doctor @relation(fields: [doctorId],references: [id])

  serviceid String
  service Services @relation(fields: [serviceid], references: [id])

  detail detailPacient[]

}

model Doctor{
  id String @id @default(uuid())
  firstname String
  lastname String
  phone String
  specialty String

  clinichist ClinicHistory[]
}

model Services {
  id String @id @default(uuid())
  service String
  description String
  price String

  clinichist ClinicHistory[]
  detail detailPacient[]
}

model detailPacient {
  id String @id @default(uuid())
  payment String
  state String

  serviceid String
  service Services @relation(fields: [serviceid], references: [id])

  clinichistid String
  clinichist ClinicHistory @relation(fields: [clinichistid], references: [id])

}